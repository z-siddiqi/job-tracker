{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block style %}
<link href="{% static 'css/app.css' %}" rel="stylesheet">
{% endblock style %}

{% block body_id %}id="appBody"{% endblock body_id %}

{% block content %}
{% include 'app/header.html' %}
{% include 'app/sidebar.html' %}
<main>
    <div class="container-fluid cpx-0 pt-3">
        <div class="content">
            <div class="mb-3">
                <h3>Add Job</h3>
            </div>
            <label for="inputUrl">URL</label>
            <div class="input-group">
                <input class="form-control" type="url"
                    placeholder="https://www.example.co.uk/viewjob?jk=8e32db7a&q=grad&l=glasgow" id="inputUrl">
                <span class="input-group-append">
                    <button type="button" class="btn btn-dark" id="scrapeButton"
                        data-url="{% url 'scrape_job' board.slug %}">Scrape</button>
                </span>
            </div>
            <small class="form-text text-muted mb-3">Web scraping is currently only supported for job postings on
                Indeed, Totaljobs and Reed.</small>
            <form method="post">
                {% csrf_token %}
                {{ form.media }}
                <div class="form-row">
                    <div class="col-md-6">
                        {{ form.company|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.title|as_crispy_field }}
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-6">
                        {{ form.deadline|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.progress|as_crispy_field }}
                    </div>
                </div>
                {{ form.description|as_crispy_field }}
                <button class="btn btn-dark" type="submit">Create</button>
            </form>
        </div>
    </div>
</main>
{% endblock content %}

{% block script %}
<script src="{% static 'js/sidenav.js' %}"></script>
<script src="{% static 'js/scrape.js' %}"></script>
{% endblock script %}